<div>
    <div class="base-info">
        <table class="tb-detail">
            <tr>
                <th width="15%">
                    Api uri：
                </th>
                <td>
                    http(s)://{domain or ip:port}/{{serviceId}}{{currentApi.path}}
                </td>
            </tr>
            <tr>
                <th width="15%">
                    Method：
                </th>
                <td >
                    {{currentApi.method}}
                </td>
            </tr>
            <!--<tr>-->
            <!--<th >-->
            <!--Request accepts：-->
            <!--</th>-->
            <!--<td colspan="3">-->
            <!--{{currentApi.consumes}}-->
            <!--</td>-->
            <!--</tr>-->
            <tr>
                <th>
                    Description：
                </th>
                <td >
                    {{currentApi.description}}
                </td>
            </tr>
        </table>
    </div>
    <!--        <div class="region-inner">-->
    <!--            <div class="region-title" v-if="false"><label>Base info</label></div>-->
    <!--        </div>-->

    <el-collapse v-model="actives">
        <el-collapse-item title="Parameters" name="Parameters">
            <!--<div class="region-title"><label>Parameters</label></div>-->
            <div class="region-content">
                <table class="tb-list">
                    <tr>
                        <th width="15%" class="left">Name
                        </th>
                        <th class="left">
                            Description
                        </th>
                        <th width="13%">
                            Data type
                        </th>
                        <th width="13%">
                            Parameter type
                        </th>
                        <th width="10%">
                            Required
                        </th>
                    </tr>
                    <template v-for="(param,index) in currentApi.parameters">
                        <tr>
                            <td>
                                {{param.name}}
                            </td>
                            <td>
                                <!--{{param}}-->
                                {{param.description}}

                            </td>
                            <td align="center">
                                <template v-if="param.type=='array'">
                                    [{{param.items.type}}]
                                </template>
                                <template v-else-if="param.in=='body'">
                                    <el-popover
                                        placement="left"
                                        width="1000"
                                        trigger="click"
                                        popper-class="model-popper">
                                        <!--<div class="code-box" ></div>-->
                                        <model :modelId="param.type" :serviceId="serviceId"
                                               :showAllowEmpty="true"></model>

                                        <a href="javascript:void(0);" slot="reference">json</a>
                                        <!--<a href="javascript:void(0);" @click="toggle(param.name)">{{param.type}}</a>-->
                                    </el-popover>
                                </template>
                                <template v-else>{{param.type}}</template>
                            </td>
                            <td align="center">
                                {{param.in}}
                            </td>
                            <td align="center">
                                {{param.required}}
                            </td>
                        </tr>
                    </template>
                </table>
            </div>
        </el-collapse-item>
        <el-collapse-item title="Success Responses" name="Success">
            <!--        <div class="region-title"><label>Success Responses</label></div>        -->
            <div class="region-content code-box code-json">
                {
                <div style="padding-left:20px;">
                    code："SUCCESS" <br/>
                    msg："成功" <br/>
                    <template v-if="response.isArray && response.page">
                        page：//分页结果
                        <pre>
{
    pageNo:"当前页码",
    pageSize:"每页记录数",
    pageCount:"共页数",
    recordCount:"记录总数"
}</pre>
                    </template>
                    <template v-if="responseData">
                        data:
                        <pre>
{{responseData}}</pre>
                    </template>
                </div>
                }
            </div>
        </el-collapse-item>
        <el-collapse-item title="Warn Responses" name="Warn">
            <!--        <div class="region-title"><label></label></div>-->

            <div class="region-content code-box code-json">
                {
                <div style="padding-left:20px;">
                    code："警告编号" <a href="javascript:void(0);" @click="loadResult">more...</a> <br/>
                    msg："警告提示"
                </div>
                }
            </div>
        </el-collapse-item>
        <el-collapse-item title="Error Responses" name="Error">
<!--            <div class="region-title"><label> Error</label></div>-->
            <div class="region-content code-box code-json">
                {
                <div style="padding-left:20px;">
                    code："ERROR" <br/>
                    msg："系统繁忙，请稍候再试！"
                </div>
                }
            </div>
        </el-collapse-item>

    </el-collapse>
    <el-dialog title="Api response code" :visible.sync="isShowApiResponseCode" :close-on-click-modal="false"
               :close-on-press-escape="false" width="60%">
        <table class="tb-list">
            <tr>
                <th width="25%" class="left">
                    Code
                </th>
                <th class="left">
                    Msg
                </th>
            </tr>
            <template v-for="result in responseResult">
                <tr>
                    <td>
                        {{result.code}}
                    </td>
                    <td>
                        {{result.msg}}
                    </td>
                </tr>
            </template>
        </table>
    </el-dialog>
</div>
<!--                    <template v-if="response.isArray">-->
<!--                        [-->
<!--                        <model :modelId="response.type" :serviceId="serviceId"></model>-->
<!--                        ,...]-->
<!--                    </template>-->

<!--                    <template v-else-if="response.isMap">-->
<!--                        {"key":-->
<!--                        <model :modelId="response.type" :serviceId="serviceId"></model>-->
<!--                        ,...}-->
<!--                    </template>-->

<!--                    <template v-else-if="response.isRef">-->
<!--                        <model :modelId="response.type" :serviceId="serviceId"></model>-->
<!--                    </template>-->

<!--                    <template v-else>-->
<!--                        {{response.type}}-->
<!--                        <template v-if="response.description && response.description != 'OK'">-->
<!--                            {{response.description}}-->
<!--                        </template>-->
<!--                    </template>-->
